{"version":3,"sources":["webpack:///webpack/bootstrap 228f16de1bcbf618f8f5","webpack:///./src/sw.js"],"names":["doCache","CACHE_NAME","self","addEventListener","cacheWhitelist","event","waitUntil","caches","keys","then","Promise","all","keyList","map","includes","key","console","log","delete","open","urlsToCache","cache","addAll","respondWith","match","request","response","fetch","res","status"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC7DA,IAAIA,UAAU,IAAd;;AAEA;AACA,IAAIC,aAAa,cAAjB;;AAEA;AACAC,KAAKC,gBAAL,CAAsB,UAAtB,EAAkC,iBAAS;AACzC,MAAMC,iBAAiB,CAACH,UAAD,CAAvB;AACAI,QAAMC,SAAN,CACEC,OAAOC,IAAP,GACGC,IADH,CACQ;AAAA,WACJC,QAAQC,GAAR,CAAYC,QAAQC,GAAR,CAAY,eAAO;AAC7B,UAAI,CAACT,eAAeU,QAAf,CAAwBC,GAAxB,CAAL,EAAmC;AACjCC,gBAAQC,GAAR,CAAY,qBAAqBF,GAAjC;AACA,eAAOR,OAAOW,MAAP,CAAcH,GAAd,CAAP;AACD;AACF,KALW,CAAZ,CADI;AAAA,GADR,CADF;AAWD,CAbD;;AAeA;AACAb,KAAKC,gBAAL,CAAsB,SAAtB,EAAiC,iBAAS;AACxC,MAAIH,OAAJ,EAAa;AACXK,UAAMC,SAAN,CACEC,OAAOY,IAAP,CAAYlB,UAAZ,EACGQ,IADH,CACQ,iBAAS;AACb;AACA;;AAEI;AACA;AACA;AACF,UAAMW,cAAc,CAClB,GADkB,EAElB,aAFkB,EAGlB,eAHkB,EAIlB,8BAJkB,EAKlB,+BALkB,EAMlB,qCANkB,CAApB;AAQAJ,cAAQC,GAAR,CAAY,QAAZ;AACA,aAAOI,MAAMC,MAAN,CAAaF,WAAb,CAAP;AACH,KAlBH,CADF;AAqBD;AACF,CAxBD;;AA0BA;AACA;AACAlB,KAAKC,gBAAL,CAAsB,OAAtB,EAA+B,iBAAS;AACpC,MAAIH,OAAJ,EAAa;AACXK,UAAMkB,WAAN,CACIhB,OAAOiB,KAAP,CAAanB,MAAMoB,OAAnB,EAA4BhB,IAA5B,CAAiC,oBAAY;AAC3C,UAAGiB,QAAH,EAAY;AACVV,gBAAQC,GAAR,CAAY,MAAZ,EAAoBS,QAApB;AACA,eAAOA,QAAP;AACD;;AAED,aAAOC,MAAMtB,MAAMoB,OAAZ,EACJhB,IADI,CACC,eAAO;AACX,YAAGmB,IAAIC,MAAJ,KAAe,GAAlB,EAAuB;AACrB,iBAAOtB,OAAOiB,KAAP,CAAa,eAAb,CAAP;AACD;AACDR,gBAAQC,GAAR,CAAY,KAAZ,EAAmBW,GAAnB;AACA,eAAOA,GAAP;AACD,OAPI,CAAP;AAQD,KAdD,CADJ;AAiBD;AACJ,CApBD;;;;;;;;gCAlDI5B,O;;gCAGAC,U","file":"sw.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 228f16de1bcbf618f8f5","var doCache = true;\r\n\r\n// Name our cache\r\nvar CACHE_NAME = 'pwa-cache-v1';\r\n\r\n// Delete old caches that are not our current one!\r\nself.addEventListener(\"activate\", event => {\r\n  const cacheWhitelist = [CACHE_NAME];\r\n  event.waitUntil(\r\n    caches.keys()\r\n      .then(keyList =>\r\n        Promise.all(keyList.map(key => {\r\n          if (!cacheWhitelist.includes(key)) {\r\n            console.log('Deleting cache: ' + key)\r\n            return caches.delete(key);\r\n          }\r\n        }))\r\n      )\r\n  );\r\n});\r\n\r\n// The first time the user starts up the PWA, 'install' is triggered.\r\nself.addEventListener('install', event => {\r\n  if (doCache) {\r\n    event.waitUntil(\r\n      caches.open(CACHE_NAME)\r\n        .then(cache => {\r\n          // Get the assets manifest so we can see what our js file is named\r\n          // This is because webpack hashes it\r\n          \r\n              // Open a cache and cache our files\r\n              // We want to cache the page and the main.js generated by webpack\r\n              // We could also cache any static assets like CSS or images\r\n            const urlsToCache = [\r\n              \"/\",\r\n              \"/index.html\",\r\n              '/offline.html',\r\n              '/public/assets/app.bundle.js',\r\n              '/public/assets/app.styles.css',\r\n              '/public/assets/app.vendor.bundle.js',\r\n            ]\r\n            console.log('cached');\r\n            return cache.addAll(urlsToCache)\r\n        })\r\n    );\r\n  }\r\n});\r\n\r\n// When the webpage goes to fetch files, we intercept that request and serve up the matching files\r\n// if we have them\r\nself.addEventListener('fetch', event => {\r\n    if (doCache) {\r\n      event.respondWith(\r\n          caches.match(event.request).then(response => {\r\n            if(response){\r\n              console.log('res1', response)\r\n              return response\r\n            }\r\n\r\n            return fetch(event.request)\r\n              .then(res => {\r\n                if(res.status === 404) {\r\n                  return caches.match('/offline.html')\r\n                }\r\n                console.log('res', res)\r\n                return res\r\n              })\r\n          })\r\n      );\r\n    }\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/sw.js"],"sourceRoot":""}